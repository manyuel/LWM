<h1>All Products available for sale</h1>

<div class="row">
  <% @products.each do |product| %>
    <div class="col-lg-3 col-sm-6 mb-3">
      <div id="CarouselExampleControls" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <% if product.photos.attached? %>
            <% product.photos.each do |photo| %>
           <div class="carousel-item active">
            <%= cl_image_tag product.photos.first.key, class:"d-block", width: 400, height: 250, crop: :fill %>
           </div>
           <div class="carousel-item">
            <%= cl_image_tag product.photos.second.key,class:"d-block", width: 400, height: 250, crop: :fill %>
            <div class="carousel-item">
           <%= cl_image_tag product.photos.third.key, class:"d-block",width: 400, height: 250, crop: :fill %>
           </div>
          <% end %>
          <% else %>
            <img src="https://source.unsplash.com/random/400x250" alt="" class="">
          <% end %>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  <%end%>
</div>
